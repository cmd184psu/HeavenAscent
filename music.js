//LEVEL THEME
//v1
//https://sb.bitsnbites.eu/?data=U0JveAwC7dcxakJBFIXh8-7MiFiEZxoFm4eWFroAC_cSTBEtbUIs7CwUG3txHzbuKEvQ8UVBhHQZovB_cJhbXYaZ6tS7UkO5t8Ncdli9StvWViULUiE1q-bMx7gQnc_rrMQ-Eu9_f_L9o8T73wQAAADgYRynWYwy-Urn0tleys52y26kv9LXXZ4NnQcAAADA31n9ZOBr7Tjtg7LvhYpJyD1vAwAAAAD_y-pTWT6P_azXH8-clj5zw50rNv4z2C9S32nNtwAAAABA6QQ
//v2
//https://sb.bitsnbites.eu/?data=U0JveAwC7dcxCsJAEIXhl9mNWElio2ATsLTQI3gX0ULbNKJF-oiNffAouZmGaBEEOxcM_N8yMNVjYKuXLqSJEmd1IasvY6maVWpZLGXSdGju9XyjuyuwfeD8XeD8bc_zNwIAAADwNx551Iwi-cH83dlGbWfrso7wJ50-pm_oPAAAAAB-xdJclhReWq4OZ6fSR259d9nNH2P7IvRNV74FAAAAAFpP

//DIES IRAE
//v1
//https://sb.bitsnbites.eu/?data=U0JveAwC7dpBbtNAFAbgZycOoUBJs6LqBsGCOyAWsOcIbBEIoQrUpE3sWB41Jqlx1A3H4TgcgCOUMZmkg1OrRXp_Vej_RZMZRfXzjD3jzFMz7Iv0pddtGSMteSMi0d5z-y6dIJyL7H3rjG2r1Y46d7pyd-ve_QfbD3s7_VSWVrW2FBi7MqnVyP5_ti9tB7YMXHuwbun59Lvfq7Ek6vHHtoxsOfTOo2nkCsqgoa0Z3y_ahrVa22FDWzO-X7Qd1WrE_KzEoPgJ-PmcuTEcgK8PERERnfvLdM24wwyoO8euCDC-AM9hvGtjAFcp87ZiI8Dmxo-P6P8qnZ2A5pBxY0BJwOmaaTiX5nZ46OoEeH1i8PpFpSSxS9ViUPzE3YUUdJUyL-VBPX8y4BpDrl0iIqL_IF3b3UzXgnq6lrvDclB3cmDs6-D3PweM5Bgc_7r6_wV0n9HzJ29oa6ZriasR8efg9Zs2pFba6X4VewaIX7h6Bp4_U2D8-XoM-nd56q2xKXh9ERER0VXStY3_rhXgr9US_JVdgvu_8LZ8xbql5wQcv_xjDPrxT138EhJ9GfMEOH8WF6Q-2ttVU9t2a_paS0sQ91eA55h5qVoBvL8l-PmDjo-6v4Wbl-h0loiIiC5P16rW6m_CzcNG7qWtijmWWBKZSMqfxhARERER0W12NgzkbF8CaXeeuuxsW4JnryORYFP1Qy2_aEtc5PN3IiIiIiKi22qxLC_aW09s63skwc-5PJao125IqLAJGxEREREREVXCV0bCl4u-bWY_3EeR2HRNHnUDqV4SSkvE5m724-gtuDsfwfHfg-N_-MevzzuuCCIiIiKiG-MX
//v2
//https://sb.bitsnbites.eu/?data=U0JveAwC7ZrPbtNAEMbHSRxCgRJyAvWC4MA7IA5w5xG4IhBCCNSkOHEsW4lbpzjqhcfhcXgAHqHYzW6ymeaPN-xUtP1-1mZn3fTb9XjH9XS31yHqULtVTxKq0zsi8g9eFp_U9GoZ0cHPZr-w6g2_eadFd_fu3X-w_7D9qBPRDF0nrE5Zfcra24gM7ZKRKmTomFq5hXbJkNUjVvPx5_8w_m_FkSz5KFkaf1ocU8NHp3NrPYdF6Sq7Wxyx0V9QHCOmP7HU_3oxbn0t4ZL-qvGX_llcw3b9_sU4iY5UP9pfQ-UnPf5jVZ8p_byS-kw7MNqlZrxh_pSaE4v502V2yNop62tqtLOK-mZJjJ-Fqq1rfS3arqLfY3Wg7EDpZmy-_2BxvI0jZmv_DNhzQ8fcGbsXVfTNMloRe5E6f6KKtqvof2f1QNkDpas1TlQ9Zc-JKvPT9EeozkbqrPb7mOlW1Q-Zn2OjTx2_2fwa0rlu1fur9Q6NdmzE2NiYl2Olmxn-quofsz9iMbWpDQAAANxENqVrK77O0zPX8PRMQp8E--DpmWt4eiapLzF-np5J-D8WnD_hmtTN5fhX9eUKnp5J-WcgHL889XMFT89k_LNIzyTiNxB-_sSCMSYZuwAAAMANSNeeVEjX-OqTa1K63v8x5atPEq-rkvpXNf5jofssPX_SNbbLdM1cPXNNJhy_0ZrUynW6r1fMXMNXz6Tmz1hQ31w9cw1fPZOMLwAAAADslK7Zbm60JSfZP9m58PhtNzfaMhHWt93caIvt5sZdXrcngvPHdnPjLq-rCVXf3GiL7ebGXe4vCfZhu7lx1_ubC_knvyJ9qftru7kR6RoAAAAgl66Vlv5O7fKvBepwTanZpwGFNKQIW2MAAAAAAAAAt5nznkfnX8ijRvO5ys72yXvx1ifyLlNu1DKLa0KlvPgEAAAAAAAAgNvKdFZeNfaeFdYvn7w_GT0lv91Yk1DJJmwAAAAAAAAAAEpqbxKqvZ52CjP-rU75VKRr9LjlUXlQjepERe5WnPbfCw_ns7D-R2H9T9fcPx8QEQAAAAAAAPw3_AU
//v3
//https://sb.bitsnbites.eu/?data=U0JveAwC7ZrNbtNAEMfH-aJ8lZITqBckDrwDJ7jzCFyREEII1KQ4cS1bjlunJOqFR-yDlHU7m46nSbOb7FQKmp_l7qxb_Xc9u-PuaHfYB-jDQaed59CGzwDQPXxvfkIvalUAh397I2O1O93eoz14_OTps-f7Lw5e9lO4wZY5K0tWnrP6OlKiXVPgDUSHas08tGtOWFmwkvd_tkX_f5krb_gob_S_NNec-Oh8Ya3myNwDtAfmykh7sbkKpj_11P953W_7LklDf1n_a__cvsN6_dF1PwGOsR3rrxP0k-3_KZYXqD9zUr_Rjkm91szumT-15tRj_gyYnbB6ydqak3rlqE_vnPwuwbot7btY20V_yMoY7Rh1Kzbf_7A4Xscxs61_xuy7YWPugo2Fiz69iyWxl-LzM7yt7aL_m5VjtMeoazXOsJyz74TL_KT-SPBpik-t3ydM11U_YX7OSJs2fqvFO5QLXdfxtXpHpJ6RGJuQeTlB3Yr4y9U_tD1gMXVfXVEURVH-R0i69pqma7Vl_6bVXP4CW0aGpE45RmbZkpgFfHrnn_X28PQsNDw9Cw1PzyT1JfrP0zMJ_2eC4ZKsSN1C9n9ZW-Hiq5meSflnLOR_np6FhqdnMv65Tc8k4jcW_v5kgjEmGbuKoiiKsrNcDSO4-gERdHpvMTvbh-jdpy5AdJcElxyJ0HKP737sGnz3SWK5Kqn_UP0_FRpn6flTrrBDpmt09yw0lWDfeQpVCOnT3bPQ8N0zqfkzEdSnu2eh4btnkvGlKIqiKArmZh9zaH2Y942ZXeIjk6m9AXi1F0F9QQvaAB0A87j7Rbg734X1vwrrf9tx__gebvTF93DjJsvtqaB_fA83brJczcH9cKMvvocbNxlfEGzD93DjpuM7E4yvh9CXGl_fw42arimKoijK9vwD

// Initialize music generation (player).
var music = [];
var mainThemePlayer = new CPlayer();
mainThemePlayer.init(mainTheme);
var diesIraePlayer = new CPlayer();
diesIraePlayer.init(diesIrae);

// Generate music...
function checkMusicGenerated(){
	if (!window.mainThemeGenerated && mainThemePlayer.generate() >= 1){
		mtwave = mainThemePlayer.createWave();
		music["mainTheme"] = document.createElement("audio");
		music["mainTheme"].src = URL.createObjectURL(new Blob([mtwave], {type: "audio/wav"}));
		music["mainTheme"].loop = true;
		window.mainThemeGenerated = true;
	}
	if (!window.diesIraeGenerated && diesIraePlayer.generate() >= 1) {
		// Put the generated song in an Audio element.
		diwave = diesIraePlayer.createWave();
		music["diesIrae"] = document.createElement("audio");
		music["diesIrae"].src = URL.createObjectURL(new Blob([diwave], {type: "audio/wav"}));
		music["diesIrae"].loop = true;
		window.diesIraeGenerated = true;
	}
	if (window.mainThemeGenerated && window.diesIraeGenerated){
		window.musicGenerated = true;
		data.startable = true;
	}
}
function playMusic(song,restart){
	if (data.music){
		if (restart) music[song].currentTime = 0;
		music[song].play();
	}
}
function setVolume(volume){
	var currentSong = data.bossRoom.inBossRoom ? "diesIrae" : "mainTheme";
	stopMusic(currentSong);
	for (var track in music){
		music[track].volume = volume;
	}
	if (data.music) playMusic(currentSong);
}
function stopMusic(song){
	if (!song){
		for (var track in music){
			music[track].pause();
		}
	} else {
		music[song].pause();
	}
}